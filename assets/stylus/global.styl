@import "mixins.styl"
@import "icons.styl"

.header {
  width: 100%
  height: 80px
  background-color: var(--background-gr)

  &__nav {
    display flex
    justify-content space-between
    align-items center
    width: inherit
    height: inherit
    padding: var(--main-padding)
  }

  &__logo {
    width: 128px
    height: 34px
    background: no-repeat center / 100% url("../../static/icons/logo.svg")
  }

  &__list {
    display: flex
    gap: 0 45px
    width: max-content
    height: auto
  }

  &__item {
    width: 44px
    height: 44px
    padding: 10px
    cursor: pointer
    border-radius: 50%
    transition background-color .3s linear

    &:is(&_hover:hover, &_focus:focus-within) {
      background-color #C5CBE5FF
    }

    &:is(&_focus:focus-within) > .dropdown__content{
      visibility: visible
    }
  }

  &__btn {
    width: 24px
    height: 24px
  }

  .dropdown {
    display: inline-block
    position: relative

    &__content {
      visibility: hidden
      position: absolute
      margin-top: 10px
      right: 0
      background-color: var(--background-gr)
      width: 200px
      height: auto
      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .3)
      border-radius: var(--border-radius)
    }

    &__list {
      display: grid
      grid-auto-flow: row
      width: inherit
      height: inherit
    }

    &__item {
      display: flex
      gap: 0 15px
      padding: 5px 22px
      transition: background-color .3s linear

      &:first-child {
        margin-top: 16px
      }

      &:last-child {
        margin-bottom: 16px
      }

      &:is(&_hover:hover, &_focus:focus-within) {
        background-color: var(--accent-color)
      }

      &:is(&_hover:hover, &_focus:focus-within) > .dropdown__link {
        color: var(--text-color-wt)
      }

      &:nth-child(1):is(&_hover:hover, &_focus:focus-within) .home-icon{
        background-image: url("../../static/icons/home-wt.svg")
      }

      &:nth-child(2):is(&_hover:hover, &_focus:focus-within) .money-icon{
        background-image: url("../../static/icons/money-wt.svg")
      }

      &:nth-child(3):is(&_hover:hover, &_focus:focus-within) .pyramid-icon{
        background-image: url("../../static/icons/chart-pyramid-wt.svg")
      }

      &:nth-child(4):is(&_hover:hover, &_focus:focus-within) .bank-icon{
        background-image: url("../../static/icons/bank-wt.svg")
      }

      &:nth-child(5):is(&_hover:hover, &_focus:focus-within) .user-icon{
        background-image: url("../../static/icons/user-wt.svg")
      }

      &:nth-child(6):is(&_hover:hover, &_focus:focus-within) .log-out-icon{
        background-image: url("../../static/icons/log-out-wt.svg")
      }
    }

    &__icon {
      display: block
      width: 15px
      height: 15px
    }

    &__link {
      font-style(normal, var(--small-size), var(--roboto), var(--accent-color))
    }
  }
}

.search-backdrop {
  display: flex
  justify-content center
  position: fixed
  top: 0
  left: 0
  width: 100%
  height: 100%
  background-color: rgba(0, 0, 0, .5)
  visibility: hidden

  &_show {
    visibility: visible
  }

  .search-container {
    position: relative
    margin-top 10%
    width: 1000px
    height: max-content

    .search {
      display: grid
      grid-template-columns: minmax(100px, auto) 60px
      position: relative
      width: inherit
      height: 60px
      background-color: var(--background-wt)
      border-radius: 10px
      transition: box-shadow .3s linear
      overflow: hidden
      z-index: 2

      &:is(&_hover:hover, &_focus:focus-within) {
        box-shadow: 0 0 0 2px var(--accent-color)
      }

      &__input {
        width: 100%
        height: 100%
        padding: 0 30px
        font-style(bold, var(--medium-size), var(--roboto), var(--accent-color))
        border: none
        accent-color: var(--accent-color)

        &_placeholder-color::-webkit-input-placeholder {
          color: var(--accent-color)
        }
      }

      &__btn {
        width: 60px
        height: 60px
        background-color: var(--decorative-color)
        border-radius: var(--border-radius)
        transition background-color .3s linear

        &:is(&_hover:hover, &_focus:focus) {
          background-color: var(--accent-color)
        }
      }
    }
  }

  .results {
    display: none
    position: absolute
    padding: 30px 0
    width: inherit
    height: auto
    background-color: var(--background-wt)
    border-radius: 0 0 var(--border-radius) var(--border-radius)
    transform: translateY(-20px)
    z-index: 1

    &_show {
      display: block
    }

    &__list {
      position: relative
      max-height: 300px
      overflow-y: auto
    }

    &__item {
      padding: 15px 30px
      transition: background-color .2s linear
      cursor: pointer

      &:is(&_hover:hover, &_focus:focus-within) {
        background-color: var(--decorative-color)
      }
    }

    &__suggestion {
      font-style(normal, var(--medium-size), var(--roboto), var(--accent-color))
    }
  }
}

.btn {
  border: none
  cursor: pointer

  &:is(&_background) {
    background-color: var(--accent-color)
  }
}

.field {
  border: none
  accent-color: var(--accent-color)
  background-color: var(--background-field)
}